<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <title>BamBanking Login | Projects</title>

    <!-- Fonts & Icons -->
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600;800&display=swap"
        rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet" />

    <!-- GLOBAL STYLES -->
    <link rel="stylesheet" th:href="@{/css/footer.css}" />
    <link rel="stylesheet" th:href="@{/css/style.css}" />
    <link rel="stylesheet" th:href="@{/css/nav.css}" />

    <!-- PAGE STYLES -->
    <link rel="stylesheet" th:href="@{/css/bambanking.css}" />
</head>

<!-- server messages go into data-* so JS can show modal -->

<body th:attr="data-error=${error},data-success=${success},data-open-signup=${openSignup}">

    <div id="cursor-bg" aria-hidden="true"></div>

    <div class="window">
        <!-- Title Bar -->
        <div class="title-bar">
            <div class="dots">
                <span class="red"></span><span class="yellow"></span><span class="green"></span>
            </div>

            <span class="filename">BankingApp</span>

            <div class="tb-right">
                <a href="https://amboyose.onrender.com/" class="chip-link">
                    <button class="chip chip-back" type="button">
                        <i class="fa-solid fa-house"></i>
                        <span style="font-size: small;">Home</span>
                    </button>
                </a>
            </div>
        </div>

        <!-- LOGIN / SIGNUP CARD FLIP -->
        <div class="login-wrapper">
            <div class="login-flip-scene">
                <div class="login-flip-inner" id="authFlip">

                    <!-- FRONT: LOGIN -->
                    <div class="login-flip-face front">
                        <div class="login-card">

                            <div class="login-tabs">
                                <button class="login-tab active" id="tabLogin" type="button">
                                    <i class="fa-solid fa-right-to-bracket"></i> Login
                                </button>
                                <button class="login-tab" id="tabSignup" type="button">
                                    <i class="fa-regular fa-id-card"></i> Sign up
                                </button>
                            </div>

                            <h1 class="login-title">
                                Login() <span class="login-sub">// BamBanking demo</span>
                            </h1>

                            <!-- LOGIN FORM -->
                            <form th:action="@{/bambanking/login}" method="post" id="loginForm" novalidate>
                                <div class="form-row form-row-inline">
                                    <label for="username">username</label>
                                    <input type="text" id="username" name="username"
                                        placeholder="your username or email" required />
                                </div>

                                <div class="form-row form-row-inline">
                                    <label for="pin">pin</label>
                                    <input type="password" id="pin" name="pin" minlength="4" maxlength="4"
                                        inputmode="numeric" pattern="\\d{4}" placeholder="1234 / 4321 / 1111"
                                        required />
                                </div>

                                <div class="login-actions">
                                    <button type="submit" class="btn-login">
                                        Login
                                    </button>
                                </div>

                                <div class="forgot-pin-row">
                                    <a href="/bambanking/forgot-pin" class="forgot-pin-link">Forgot PIN?</a>
                                </div>
                            </form>

                        </div>
                    </div>

                    <!-- BACK: SIGNUP -->
                    <div class="login-flip-face back">
                        <div class="login-card">

                            <div class="login-tabs">
                                <button class="login-tab" id="tabLoginBack" type="button">
                                    <i class="fa-solid fa-right-to-bracket"></i> Login
                                </button>
                                <button class="login-tab active" id="tabSignupBack" type="button">
                                    <i class="fa-regular fa-id-card"></i> Sign up
                                </button>
                            </div>

                            <h1 class="login-title">
                                Signup() <span class="login-sub">// OTP via Email</span>
                            </h1>

                            <!-- SIGNUP FORM -->
                            <form th:action="@{/bambanking/signup}" method="post" id="signupForm" novalidate>

                                <!-- First + Last name row (2 columns) -->
                                <div class="login-field login-field-row">
                                    <div class="field-half">
                                        <label for="firstName">first name</label>
                                        <input type="text" id="firstName" name="firstName" placeholder="Anna"
                                            required />
                                    </div>

                                    <div class="field-half">
                                        <label for="lastName">last name</label>
                                        <input type="text" id="lastName" name="lastName" placeholder="Boyose"
                                            required />
                                    </div>
                                </div>

                                <!-- Optional: full name for JS only (backend combines first+last itself) -->
                                <input type="hidden" id="fullName" name="fullName" />

                                <div class="login-field">
                                    <label for="email">email</label>
                                    <input type="email" id="email" name="email" placeholder="bamby@gmail.com" required
                                        pattern="^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$" title="Please enter a valid email" />

                                </div>

                                <div class="login-field">
                                    <label for="signup-pin">choose pin</label>
                                    <input type="password" id="signup-pin" name="pin" maxlength="4" inputmode="numeric"
                                        pattern="\\d{4}" placeholder="****" required />
                                </div>

                                <div class="login-actions">
                                    <button type="submit" class="btn-signup">Create Demo Account</button>
                                </div>
                            </form>

                        </div>
                    </div>

                </div>
            </div>
        </div>

    </div>

    <!-- FOOTER -->
    <footer class="site-footer">
        <p>© 2025 <strong>BAMBY</strong> | Designed &amp; Coded with ❤️</p>
        <p class="links">
            <a href="/index.html">About</a> •
            <a href="/portfolio.html">Portfolio</a> •
            <a href="/resume.html">Resume</a> •
            <a href="/contact.html">Contact</a>
        </p>
    </footer>

    <!-- MODAL -->
    <div id="errorModal" class="bank-modal">
        <div class="bank-modal-box">
            <h2 class="bank-modal-title" id="modalTitle">Notice</h2>
            <p class="bank-modal-message" id="errorModalMessage">Message.</p>
            <button type="button" class="bank-modal-close" id="errorModalClose">OK</button>
        </div>
    </div>

    <!-- JS -->
    <script th:src="@{/js/script.js}"></script>
    <script th:src="@{/js/nav.js}" defer></script>
    <script th:src="@{/js/bambanking-auth.js}"></script>
</body>

</html>